@{
ViewBag.Title = "Gestión de Roles";
Layout = "_SecondaryLayout";
}

<section id="manageRoles" class="wrapper style1 fullscreen fade-up">
    <div class="inner">
        <h2>Gestión de Roles</h2>
        <p>Administra los roles de los usuarios en el sistema, asignando o removiendo permisos según sea necesario.</p>

        <!-- Cuadro de Búsqueda -->
        <div class="row">
            <div class="col-12">
                <input type="text" id="searchInput" placeholder="Buscar por Nombre..." onkeyup="filterTable()">
            </div>
        </div>

        <div class="table-wrapper">
            <table id="rolesTable">
                <thead>
                <tr>
                    <th>Nombre de Usuario</th>
                    <th>Rol Actual</th>
                    <th>Nuevo Rol</th>
                    <th>Acciones</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Juan Perez</td>
                    <td>Maestro</td>
                    <td>
                        <select>
                            <option value="Admin">Administrador</option>
                            <option value="Maestro" selected>Maestro</option>
                            <option value="Padre">Padre</option>
                        </select>
                    </td>
                    <td>
                        <ul class="actions">
                            <li><a href="#" class="button small">Actualizar Rol</a></li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td>Ana González</td>
                    <td>Padre</td>
                    <td>
                        <select>
                            <option value="Admin">Administrador</option>
                            <option value="Maestro">Maestro</option>
                            <option value="Padre" selected>Padre</option>
                        </select>
                    </td>
                    <td>
                        <ul class="actions">
                            <li><a href="#" class="button small">Actualizar Rol</a></li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td>Carlos Ruiz</td>
                    <td>Administrador</td>
                    <td>
                        <select>
                            <option value="Admin" selected>Administrador</option>
                            <option value="Maestro">Maestro</option>
                            <option value="Padre">Padre</option>
                        </select>
                    </td>
                    <td>
                        <ul class="actions">
                            <li><a href="#" class="button small">Actualizar Rol</a></li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td>María López</td>
                    <td>Maestro</td>
                    <td>
                        <select>
                            <option value="Admin">Administrador</option>
                            <option value="Maestro" selected>Maestro</option>
                            <option value="Padre">Padre</option>
                        </select>
                    </td>
                    <td>
                        <ul class="actions">
                            <li><a href="#" class="button small">Actualizar Rol</a></li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td>Ricardo Martínez</td>
                    <td>Padre</td>
                    <td>
                        <select>
                            <option value="Admin">Administrador</option>
                            <option value="Maestro">Maestro</option>
                            <option value="Padre" selected>Padre</option>
                        </select>
                    </td>
                    <td>
                        <ul class="actions">
                            <li><a href="#" class="button small">Actualizar Rol</a></li>
                        </ul>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<script>
    function filterTable() {
        let input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("searchInput");
        filter = input.value.toLowerCase();
        table = document.getElementById("rolesTable");
        tr = table.getElementsByTagName("tr");

        for (i = 1; i < tr.length; i++) {
            tr[i].style.display = "none";
            td = tr[i].getElementsByTagName("td");
            for (let j = 0; j < td.length; j++) {
                if (td[j]) {
                    txtValue = td[j].textContent || td[j].innerText;
                    if (txtValue.toLowerCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                        break;
                    }
                }
            }
        }
    }
</script>
